<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Path of the NodeBases Jedi -- Bryce B. Baril</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link rel="stylesheet" href="css/starwars.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <script src="lib/js/jquery-2.1.0.min.js"></script>
    <script src="js/level.js"></script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>Path of the NodeBases Jedi</h1>
          <h3>Something something something StarWars.</h3>
          <p>
            <small>Created by <a href="http://brycebaril.com">Bryce B. Baril</a> / <a href="http://twitter.com/brycebaril">@brycebaril</a></small>
          </p>
        </section>

        <section class="intro" data-background="#000" data-transition="fade" data-transition-speed="slow">
          <p>A short time ago, in a continent</p>
          <p>far, far away....</p>
        </section>

<!--
        <section class="starwars" data-background="img/bgstars.png" data-transition="zoomout">
          <h1>STAR WARS<sub>A New Database Paradigm</sub></h1>
        </section>
-->
        <section class="starwars" data-background="img/bgstars.png" data-transition="zoomout" data-transition-speed="slow">
          <h1>NODE <w>BASES</w><sub>A New Database Paradigm</sub></h1>
        </section>

        <section id="epVI" class="starwars crawl stretch" data-background="img/bgstars.png" data-transition="none">
          <div id="epVI-titles"><div id="epVI-content">
            <episode>Episode VI</episode>
            <h2>PATH OF THE JEDI</h2>
            <p>&nbsp;</p>
            <p>Node Developer has returned to
            his trusty runtime Node.js in
            an attempt to rescue his
            company Async IO from the
            clutches of the vile database
            Mongo the DB.</p>
            <p>&nbsp;</p>

            <p>Little does Node know that the
            DATABASE COMMUNITY has secretly
            begun construction on a new
            monolithic database even
            more convoluted and packed
            with unnecessary features
            than Enterprise Oracle.</p>
            <p>&nbsp;</p>

            <p>When completed, this ultimate
            weapon will spell certain doom
            for the small band of rebels
            struggling to keep their sanity
            in check...</p>
          </div></div>
        </section>

        <section>
          <section class="starwars" data-background="img/bgstars.png">
            <h2>Path of the NodeBases Jedi</h2>
          </section>

          <section data-background="img/bucket_index_label.jpg"></section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>NodeBases Goal:</h2>
            <h3>Do for databases what NPM did for web applications.</h3>
            <p>
              Small, composable pieces of functionality.
            </p>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>LevelDB</h2>
            <p>
              Right now the "canonical" NodeBases back-end is LevelDB.
            </p>
            <p>
            It is a simple key-value store with 5 primitives:
            </p>
            <ul>
              <li>get</li>
              <li>put</li>
              <li>del</li>
              <li>batch (put/del)</li>
              <li>ordered iterator</li>
            </ul>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>LevelUP/LevelDOWN</h2>
            <p><a href="http://npm.im/levelup">LevelUP</a> provides a consistent JS interface to Node.</p>
            <p><a href="http://npm.im/leveldown">LevelDOWN</a> is the wrapper interface for DB engines.</p>
            <p>Lots of options:</p>
            <ul>
              <li>LevelDB</li>
              <li>HyperLevelDB</li>
              <li>RocksDB</li>
              <li>LMDB</li>
              <li>IndexedDB (browser!)</li>
              <li>... and more!</li>
            </ul>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>How to get it</h2>
            <p>Easiest: <pre>npm install level</pre></p>
            <p><a href="http://npm.im/level">level</a> provides a LevelUP/LevelDOWN bundle ready to use.</p>
            <ul>
            <li><a href="http://npm.im/level-hyper">level-hyper</a> HyperLevelDB</li>
            <li><a href="http://npm.im/level-lmdb">level-lmdb</a> LMDB</li>
            <li><a href="http://npm.im/level-rocksdb">level-rocksdb</a> RocksDB</li>
            <li><a href="http://npm.im/level-mem">level-mem</a> In-memory</li>
            <li><a href="http://npm.im/level-js">level-js</a> IndexedDB (browser)</li>
            </ul>
          </section>

          <section id="vanilla" class="starwars" data-background="img/bgstars.png">
            <h2>How to use it.</h2>
            <pre><code class="example" data-trim contenteditable>
// var level = require("level")
var db = level("./vanilla")

// put  key    value
db.put("wow", "mom", function (err) {
  if (err) return alert("IO Error!?", err)

  // get  key
  db.get("wow", function (err, value) {
    if (err) return alert("Not found?")
    $("#vanilla .results").text("value: " + value)
  })
})
            </code></pre>
            <p class="results">(press "r" to run example)</p>
          </section>
          <section id="namespaced" class="starwars" data-background="img/bgstars.png">
            <p>
              Using <a href="http://npm.im/level-sublevel"><code>level-sublevel</code></a> to add namespaces. (Think 'tables')
            </p>
            <pre><code class="example" data-trim contenteditable>
// var level = require("level")
// var Sublevel = require("level-sublevel")
var db = Sublevel(level("./namespaced"))
var stuff = db.sublevel("stuff")
var things = db.sublevel("things")

stuff.put("wow", "mom", function (err) {
  things.put("wow", "zzz", function (err) {
    stuff.get("wow", function (err, value) {
      $("#namespaced .results").text("value: " + value)
    })
  })
})
            </code></pre>
            <p class="results">(press "r" to run example)</p>
          </section>
          <section id="versioned" class="starwars" data-background="img/bgstars.png">
            <p>
              Using <a href="http://npm.im/level-version"><code>level-version</code></a> to make writes versioned.
            </p>
            <pre><code class="example" data-trim contenteditable>
// var level = require("level")
// var Sublevel = require("level-sublevel")
// var Version = require("level-version")
var db = Sublevel(level("./versioned"))
var things = Version(db.sublevel("things"))

things.put("wow", "mom", {version: 0}, function (err) {
  things.put("wow", "zzz", function (err) {
    things.get("wow", {version: 0}, function (err, value, version) {
      $("#versioned .results")
        .text("value: " + value + " version: " + version)
    })
  })
})
            </code></pre>
            <p class="results">(press "r" to run example)</p>
          </section>
        </section>

        <section>
          <section class="starwars" data-background="img/bgstars.png">
            <h2>Case Study: TimestreamDB</h2>
            <p><a href="http://npm.im/timestreamdb">timestreamdb</a> is a full time series database with a full Node streams-based query language.</p>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>How Timestreamdb Works</h2>
            <p>TimestreamDB itself is really simple, just 45 lines of code. All it actually does is combine <a href="http://npm.im/level-version">level-version</a> and <a href="http://npm.im/timestream">timestream</a></p>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <p>
              Small, composable pieces of functionality.
            </p>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>Because of NodeBases</h2>
            <p>TimestreamDB is theoretically compatible with 100s of other features provided by other NodeBases modules.</p>
            <ul>
            <li>browserifiable <a href="http://npm.im/level-js">level-js</a> (and others...)</li>
            <li>namespacing <a href="http://npm.im/level-sublevel">level-sublevel</a> (and others...)</li>
            <li>live streaming of changes <a href="http://npm.im/level-live-stream">level-live-stream</a></li>
            <li>map-reduce <a href="http://npm.im/map-reduce">map-reduce</a></li>
            <li>networked <a href="http://npm.im/multilevel">multilevel</a> (and others...)</li>
            <li>foreign keys <a href="http://npm.im/level-assoc">level-assoc</a> (and others...)</li>
            <li>replication <a href="http://npm.im/level-replicate">level-replicate</a> (and others...)</li>
            <li>graph database <a href="http://npm.im/levelgraph">levelgraph</a></li>
            <li>etc...</li>
            </ul>
          </section>

          <section id="tsdb" class="starwars" data-background="img/bgstars.png">
            <pre><code class="example" data-trim contenteditable>
// var level = require("level")
// var TimestreamDB = require("timestreamdb")
var db = TimestreamDB(level("./tsdb", {valueEncoding: "json"}))

var count = 0
var i = setInterval(function () {
  if (++count > 30) {
    clearInterval(i)
    db.ts("foo").mean().tail(function (r) {
      $("#tsdb .results").text(r.value)
    })
  }
  db.put("foo", {id: count, value: Math.random()})
}, 10)
            </code></pre>
            <p class="results">(press "r" to run example)</p>
          </section>

          <section id="slidetimes" class="starwars" data-background="img/bgstars.png">
            <pre><code data-trim>
var db = level("slidetimer", {valueEncoding: "json"})
window.SlideTimeDB = TimestreamDB(db)
function recordSlide(event) {
  SlideTimeDB.put("slide", {slide: event.indexh + "," + event.indexv})
}
            </code></pre>
            <pre><code class="example javascript" data-trim contenteditable>
var count = SlideTimeDB.ts("slide")
  .count()
  .rename("slide", "count")

var avg = SlideTimeDB.ts("slide")
  .elapsed()
  .numbers()
  .mean()
  .divide(1000)
  .round(1)

count.join(avg).tail(function(r) {
  $("#numslides").text(r.count)
  $("#avgtime").text(r.elapsed)
})
            </code></pre>
            <p>Bryce, you've visited <span id="numslides">???</span> slides at an average of:</p>
            <p><span id="avgtime">???</span> seconds per slide.</p>
          </section>
        </section>

        <section data-background="img/rainbows.jpg">
        </section>

        <section id="epII" class="starwars crawl" data-background="img/bgstars.png" data-transition="none">
          <div id="epII-titles"><div id="epII-content">
            <episode>Episode II</episode>
            <h2>ATTACK OF THE CODEROT</h2>
            <p>&nbsp;</p>
            <p>There is unrest in the NodeBases
            Community. Several thousand node
            developers have declared their
            intentions to use Enterprise
            Databases.</p>
            <p>&nbsp;</p>

            <p>This separatist movement,
            under the leadership of the
            mysterious Count Coderot, has
            made it difficult for the limited
            number of NodeBase Knights to
            maintain compatibility and
            order in NPM.</p>
            <p>&nbsp;</p>

            <p>Senator Vagg, the founder of
            the NodeBases Community, is returning
            to the NPM Senate to vote
            on the critical issue of creating
            and ARMY OF NODE DEVELOPERS
            to assist with the overwhelmed
            Jedi....</p>
          </div></div>
        </section>

        <section>
          <section class="starwars" data-background="img/bgstars.png">
            <h2>The Dark Side of NodeBases</h2>
            <ul>
              <li>Incomplete experiments</li>
              <li>Competing efforts</li>
              <li>Land grab</li>
              <li>Over-promise</li>
              <li>Combinatorial compatibility</li>
              <li>Missing a solid Replication story</li>
            </ul>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <p>None of these things are evil or bad!</p>
            <p>... but they can <strong>scare away potential users.</strong></p>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>Help us realize the NodeBases potential</h2>
            <ul>
              <li>Use it, try it, push the limits!</li>
              <li>Favor Science over Mad Science</li>
              <li>Be a good citizen!
                <ul>
                  <li>Label project status</li>
                  <li>Point to similar projects</li>
                  <li>Use the modules you write!!!</li>
                </ul>
              </li>
              <li>We need a <strong>rock-solid</strong> replication story</li>
              <li>Published performance metrics</li>
            </ul>
          </section>

          <section class="starwars" data-background="img/bgstars.png">
            <h2>Hype Cycle</h2>
            <h3><a href="http://http://en.wikipedia.org/wiki/Hype_cycle">http://en.wikipedia.org/wiki/Hype_cycle</a></h3>
            <img id="hype_cycle" src="img/hype_cycle.png">
          </section>
        </section>

        <section class="starwars" data-background="img/bgstars.png">
          <h2>Thank you!</h2>
          <p><a href="http://twitter.com/brycebaril">@brycebaril</a></p>
          <p>Also... check out <a href="http://concurix.com/jsfest">concurix.com/jsfest</a> we're working on a monitoring profiler for Node.js... that link will save you $50</p>
          <p><a href="http://www.sitepoint.com/css3-starwars-scrolling-text/">Star Wars crawl effect</a></p>
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

    <script>
      window.SlideTimeDB = TimestreamDB(level("slidetimer", {valueEncoding: "json"}))
      function recordSlide(event) {
        SlideTimeDB.put("slide", {slide: event.indexh + "," + event.indexv})
      }

      function activateCrawl(event) {
        if (event.currentSlide.id == "epVI") {
          $("#epVI-titles").addClass("titles")
          $("#epVI-content").addClass("titlescontent")
          $("#epVI").css("top", "-6em")
          $("#epVI").css("height", "10em")
        }
        if (event.currentSlide.id == "epII") {
          $("#epII-titles").addClass("titles")
          $("#epII-content").addClass("titlescontent")
          // Ugghhh... Why this one and not the other?
          $("#epII").css("top", "-6em")
          $("#epII").css("height", "10em")
        }
      }
      Reveal.addEventListener("ready", activateCrawl)
      Reveal.addEventListener("slidechanged", activateCrawl)
      Reveal.addEventListener("slidechanged", recordSlide)

      function executeExample() {
        var id = Reveal.getCurrentSlide().id
        if (!id) return
        var example = $("#" + id + " .example")
        if (!example || !example.text()) return
        //console.log(example.text())
        eval(example.text())
      }
      Reveal.configure({
        keyboard: {
          // "r" for "run example"
          82: executeExample
        }
      })

    </script>

  </body>
</html>
